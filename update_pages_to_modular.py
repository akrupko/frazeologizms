#!/usr/bin/env python3
"""
Script to update existing HTML pages to use the modular component system.
This will backup the old files and create new modular versions.
"""

import os
import shutil
import re
from pathlib import Path

# Page configurations for component loader
PAGE_CONFIGS = {
    'frazeologizmy_animals': {
        'title': 'üêæ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö —è–≤–ª–µ–Ω–∏—è—Ö',
        'footer': 'üìö –ñ–∏–≤–æ—Ç–Ω—ã–µ –∏ –ø—Ä–∏—Ä–æ–¥–∞ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö - –∏–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö - –∏–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–ò–∑—É—á–∞–π—Ç–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –∏ –ø—Ä–∏—Ä–æ–¥–Ω—ã–º–∏ —è–≤–ª–µ–Ω–∏—è–º–∏. –†—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –∂–∏–≤–æ—Ç–Ω—ã—Ö –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º.'
    },
    'frazeologizmy_body-parts': {
        'title': 'üë§ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å —á–∞—Å—Ç—è–º–∏ —Ç–µ–ª–∞ —á–µ–ª–æ–≤–µ–∫–∞',
        'footer': 'üìö –ß–∞—Å—Ç–∏ —Ç–µ–ª–∞ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å —á–∞—Å—Ç—è–º–∏ —Ç–µ–ª–∞ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–Ω–ª–∞–π–Ω —Ç—Ä–µ–Ω–∞–∂–µ—Ä',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å —á–∞—Å—Ç—è–º–∏ —Ç–µ–ª–∞ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–Ω–ª–∞–π–Ω —Ç—Ä–µ–Ω–∞–∂–µ—Ä',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å —á–∞—Å—Ç—è–º–∏ —Ç–µ–ª–∞ —á–µ–ª–æ–≤–µ–∫–∞. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º —Å –≥–æ–ª–æ–≤–æ–π, —Ä—É–∫–∞–º–∏, –≥–ª–∞–∑–∞–º–∏. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º.'
    },
    'frazeologizmy_time': {
        'title': '‚è∞ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö',
        'footer': 'üìö –í—Ä–µ–º—è –∏ –≤–æ–∑—Ä–∞—Å—Ç - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –≤—Ä–µ–º–µ–Ω–∏ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –≤–æ–∑—Ä–∞—Å—Ç–µ –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –≤—Ä–µ–º–µ–Ω–∏ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –≤–æ–∑—Ä–∞—Å—Ç–µ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –≤–æ–∑—Ä–∞—Å—Ç–µ. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º –æ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–∞—Ö –∏ –≤—Ä–µ–º–µ–Ω–∏.'
    },
    'frazeologizmy_religion': {
        'title': '‚õ™ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–†–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'footer': 'üìö –†–µ–ª–∏–≥–∏—è –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—è - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–†–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã - –±–∏–±–ª–µ–π—Å–∫–∏–µ –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–¥–∏–æ–º—ã',
        'page_title': '–†–µ–ª–∏–≥–∏–æ–∑–Ω—ã–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã - –±–∏–±–ª–µ–π—Å–∫–∏–µ –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–¥–∏–æ–º—ã',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã–º–∏ –∏ –º–∏—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –º–æ—Ç–∏–≤–∞–º–∏. –ë–∏–±–ª–µ–π—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –∞–Ω—Ç–∏—á–Ω—ã–µ –∏–¥–∏–æ–º—ã –≤ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.'
    },
    'frazeologizmy_mind': {
        'title': 'üß† –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö',
        'footer': 'üìö –£–º –∏ –≥–ª—É–ø–æ—Å—Ç—å - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —É–º–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–± –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ –∏ –≥–ª—É–ø–æ—Å—Ç–∏',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —É–º–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–± –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–µ –∏ –≥–ª—É–ø–æ—Å—Ç–∏',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —É–º–µ –∏ –≥–ª—É–ø–æ—Å—Ç–∏. –†—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–± –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è—Ö –∏ –º—É–¥—Ä–æ—Å—Ç–∏.'
    },
    'frazeologizmy_work': {
        'title': '‚öôÔ∏è –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
        'footer': 'üìö –¢—Ä—É–¥ –∏ —Ä–∞–±–æ—Ç–∞ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–∞–±–æ—Ç–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —Ç—Ä—É–¥–µ –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–∞–±–æ—Ç–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —Ç—Ä—É–¥–µ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ç—Ä—É–¥–µ –∏ —Ä–∞–±–æ—Ç–µ. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º –æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä—É–¥–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö.'
    },
    'frazeologizmy_family': {
        'title': 'üë™ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Å–µ–º–µ–π–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
        'footer': 'üìö –°–µ–º—å—è –∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Å–µ–º—å–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Å–µ–º—å–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö',
        'meta_description': '–°–µ–º–µ–π–Ω—ã–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –∏ –∏–¥–∏–æ–º—ã –æ —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏—è—Ö. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –æ —Å–µ–º—å–µ –æ–Ω–ª–∞–π–Ω.'
    },
    'frazeologizmy_house': {
        'title': 'üè† –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–æ–º–∞—à–Ω–µ–º –±—ã—Ç–µ',
        'footer': 'üìö –î–æ–º –∏ –±—ã—Ç - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–æ–º–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –±—ã—Ç–µ –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–æ–º–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –±—ã—Ç–µ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–æ–º–µ –∏ –±—ã—Ç–µ. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º –æ –∂–∏–ª–∏—â–µ –∏ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏.'
    },
    'frazeologizmy_speech': {
        'title': 'üí¨ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–µ—á–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏',
        'footer': 'üìö –†–µ—á—å –∏ –æ–±—â–µ–Ω–∏–µ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–µ—á–∏ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–± –æ–±—â–µ–Ω–∏–∏ –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–µ—á–∏ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ–± –æ–±—â–µ–Ω–∏–∏ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —Ä–µ—á–∏ –∏ –æ–±—â–µ–Ω–∏–∏. –ò–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º –æ —è–∑—ã–∫–µ, —Ä–∞–∑–≥–æ–≤–æ—Ä–µ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.'
    },
    'frazeologizmy_food': {
        'title': 'üçΩÔ∏è –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –ø–∏—â–µ –∏ –Ω–∞–ø–∏—Ç–∫–∞—Ö',
        'footer': 'üìö –ï–¥–∞ –∏ –ø–∏—Ç—å–µ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –µ–¥–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –ø–∏—â–µ –∏ –Ω–∞–ø–∏—Ç–∫–∞—Ö',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –µ–¥–µ - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –ø–∏—â–µ –∏ –Ω–∞–ø–∏—Ç–∫–∞—Ö',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –µ–¥–µ –∏ –ø–∏—Ç—å–µ. –†—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –ø–∏—â–µ, –Ω–∞–ø–∏—Ç–∫–∞—Ö –∏ –∫—É–ª–∏–Ω–∞—Ä–∏–∏.'
    },
    'frazeologizmy_money': {
        'title': 'üí∞ –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º –¥–æ—Å—Ç–∞—Ç–∫–µ',
        'footer': 'üìö –î–µ–Ω—å–≥–∏ –∏ –±–æ–≥–∞—Ç—Å—Ç–≤–æ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–µ–Ω—å–≥–∞—Ö - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –±–æ–≥–∞—Ç—Å—Ç–≤–µ –∏ –±–µ–¥–Ω–æ—Å—Ç–∏',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–µ–Ω—å–≥–∞—Ö - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –±–æ–≥–∞—Ç—Å—Ç–≤–µ –∏ –±–µ–¥–Ω–æ—Å—Ç–∏',
        'meta_description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ –¥–µ–Ω—å–≥–∞—Ö –∏ –±–æ–≥–∞—Ç—Å—Ç–≤–µ. –†—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ–º –¥–æ—Å—Ç–∞—Ç–∫–µ –∏ –±–µ–¥–Ω–æ—Å—Ç–∏.'
    },
    'frazeologizmy_emotions': {
        'title': 'üòä –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
        'description': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è—Ö –∏ –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏—è—Ö',
        'footer': 'üìö –≠–º–æ—Ü–∏–∏ –∏ —á—É–≤—Å—Ç–≤–∞ - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã',
        'seo_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —ç–º–æ—Ü–∏—è—Ö - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —á—É–≤—Å—Ç–≤–∞—Ö –æ–Ω–ª–∞–π–Ω',
        'page_title': '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —ç–º–æ—Ü–∏—è—Ö - —Ä—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —á—É–≤—Å—Ç–≤–∞—Ö –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–ò–∑—É—á–∞–π—Ç–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –æ–± —ç–º–æ—Ü–∏—è—Ö –∏ —á—É–≤—Å—Ç–≤–∞—Ö. –†—É—Å—Å–∫–∏–µ –∏–¥–∏–æ–º—ã –æ —Ä–∞–¥–æ—Å—Ç–∏, –≥—Ä—É—Å—Ç–∏, –ª—é–±–≤–∏, —Å—Ç—Ä–∞—Ö–µ. –¢—Ä–µ–Ω–∞–∂–µ—Ä –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º.'
    }
}

def get_modular_page_template(page_name, config):
    """Generate the modular HTML template for a page"""
    template = f"""<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">
    <title>{config['page_title']}</title>
    <meta name="description" content="{config['meta_description']}">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation will be loaded here -->
    <div id="navigation-container"></div>
    
    <!-- Main Content -->
    <div class="main-content" id="main-content">
        <div class="container">
            <!-- Header will be loaded here -->
            <div id="header-container"></div>

            <!-- Quiz content will be loaded here -->
            <div id="quiz-container"></div>

            <!-- Footer will be loaded here -->
            <div id="footer-container"></div>

            <!-- SEO Content will be loaded here -->
            <div id="seo-container"></div>
        </div>
    </div>

    <!-- Load component loader first, then other scripts -->
    <script src="components/component-loader.js"></script>
    <script src="script.js"></script>
    <script src="navigation.js"></script>
</body>
</html>"""
    return template

def backup_existing_files():
    """Backup existing HTML files"""
    backup_dir = Path('backup_old_html')
    backup_dir.mkdir(exist_ok=True)
    
    html_files = list(Path('.').glob('frazeologizmy_*.html')) + [Path('index.html')]
    
    for file in html_files:
        if file.exists():
            backup_path = backup_dir / file.name
            shutil.copy2(file, backup_path)
            print(f"Backed up {file.name} to {backup_path}")

def update_component_loader_configs():
    """Update component-loader.js with all page configurations"""
    
    # Generate JavaScript config object
    js_configs = []
    
    # Add index page config
    js_configs.append("""            'index': {
                header: {
                    title: 'üè† –¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤',
                    description: '–ò–∑—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –ø–æ —Ä–∞–∑–Ω—ã–º —Ç–µ–º–∞–º'
                },
                footer: {
                    text: 'üìö –í—Å–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã - –±–æ–ª–µ–µ 1280 –≤—ã—Ä–∞–∂–µ–Ω–∏–π'
                },
                seo: {
                    title: '–¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ - –∏–∑—É—á–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω',
                    description: '–í—Å–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã - –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ —Ä—É—Å—Å–∫–∏—Ö –∏–¥–∏–æ–º –∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–π. –ù–∞—à –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∏–∑—É—á–∏—Ç—å –±–æ–ª–µ–µ 1280 —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –µ–¥–∏–Ω–∏—Ü —Ä–∞–∑–ª–∏—á–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏ –∏ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É.',
                    featuresTitle: '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑—É—á–µ–Ω–∏—è —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ',
                    featuresText: '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∑–∞–¥–∞–Ω–∏—è—Ö –ï–ì–≠ –∏ –û–ì–≠ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É. –ò–∑—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º:',
                    footer: '–ù–∞—á–Ω–∏—Ç–µ –∏–∑—É—á–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏ –ø–æ–≤—ã—Å—å—Ç–µ —Å–≤–æ–∏ —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—à–Ω—É—é —Å–¥–∞—á—É —ç–∫–∑–∞–º–µ–Ω–æ–≤ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É! –ù–∞—à–∞ –±–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–æ–ª–µ–µ 1280 —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è.'
                },
                category: 'general',
                categoryName: '–í—Å–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã'
            }""")
    
    # Add thematic page configs
    for page_name, config in PAGE_CONFIGS.items():
        category_name = config['title'].split('–¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤')[0].strip()
        
        js_config = f"""            '{page_name}': {{
                header: {{
                    title: '{config['title']}',
                    description: '{config['description']}'
                }},
                footer: {{
                    text: '{config['footer']}'
                }},
                seo: {{
                    title: '{config['seo_title']}',
                    description: '{config['description']} - —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –¥–∞–Ω–Ω–æ–π —Ç–µ–º–∞—Ç–∏–∫–∏. –ù–∞—à –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∏–∑—É—á–∏—Ç—å —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –µ–¥–∏–Ω–∏—Ü—ã —ç—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É.',
                    featuresTitle: '–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–∑—É—á–µ–Ω–∏—è —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Ç–µ–º—ã "{category_name}"',
                    featuresText: '–§—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã –¥–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è –≤ –∑–∞–¥–∞–Ω–∏—è—Ö –ï–ì–≠ –∏ –û–ì–≠ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É. –ò–∑—É—á–µ–Ω–∏–µ {category_name.lower()} –ø–æ–º–æ–∂–µ—Ç –≤–∞–º:',
                    footer: '–ù–∞—á–Ω–∏—Ç–µ –∏–∑—É—á–µ–Ω–∏–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –∏ –ø–æ–≤—ã—Å—å—Ç–µ —Å–≤–æ–∏ —à–∞–Ω—Å—ã –Ω–∞ —É—Å–ø–µ—à–Ω—É—é —Å–¥–∞—á—É —ç–∫–∑–∞–º–µ–Ω–æ–≤ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É! –ò–∑—É—á–∞–π—Ç–µ —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è.'
                }},
                categoryName: '{category_name}'
            }}"""
        
        js_configs.append(js_config)
    
    # Read the current component-loader.js
    loader_path = Path('components/component-loader.js')
    if loader_path.exists():
        with open(loader_path, 'r', encoding='utf-8') as f:
            content = f.read()
        
        # Replace the getPageConfigs method
        new_configs = ',\\n'.join(js_configs)
        
        pattern = r'(getPageConfigs\(\) \{\\s*return \{)(.*?)(\s*\};\\s*\})'
        replacement = f'\\1\\n{new_configs}\\n        \\3'
        
        updated_content = re.sub(pattern, replacement, content, flags=re.DOTALL)
        
        with open(loader_path, 'w', encoding='utf-8') as f:
            f.write(updated_content)
        
        print("Updated component-loader.js with all page configurations")

def create_modular_pages():
    """Create new modular versions of all pages"""
    
    # Create modular index.html
    index_config = {
        'page_title': '–¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ - –∏–∑—É—á–µ–Ω–∏–µ –æ–Ω–ª–∞–π–Ω',
        'meta_description': '–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—Ä–µ–Ω–∞–∂–µ—Ä –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Ñ—Ä–∞–∑–µ–æ–ª–æ–≥–∏–∑–º–æ–≤ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ï–ì–≠ –∏ –û–ì–≠ –ø–æ —Ä—É—Å—Å–∫–æ–º—É —è–∑—ã–∫—É. –û–Ω–ª–∞–π–Ω —Ç–µ—Å—Ç—ã —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏ –∑–Ω–∞—á–µ–Ω–∏–π –∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è.'
    }
    
    with open('index.html', 'w', encoding='utf-8') as f:
        f.write(get_modular_page_template('index', index_config))
    print("Created modular index.html")
    
    # Create modular thematic pages
    for page_name, config in PAGE_CONFIGS.items():
        filename = f"{page_name}.html"
        
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(get_modular_page_template(page_name, config))
        
        print(f"Created modular {filename}")

def main():
    """Main function to update all pages to modular system"""
    print("Starting conversion to modular component system...")
    
    # 1. Backup existing files
    print("\\n1. Backing up existing HTML files...")
    backup_existing_files()
    
    # 2. Update component loader configurations
    print("\\n2. Updating component loader configurations...")
    update_component_loader_configs()
    
    # 3. Create new modular pages
    print("\\n3. Creating modular pages...")
    create_modular_pages()
    
    print("\\n‚úÖ Conversion completed successfully!")
    print("\\nNext steps:")
    print("1. Test the modular pages in your browser")
    print("2. Upload the new files to your live website:")
    print("   - All HTML files")
    print("   - The components/ directory")
    print("   - Updated style.css (if needed)")
    print("3. The old HTML files are backed up in backup_old_html/ directory")

if __name__ == "__main__":
    main()

# Execute the conversion
main()